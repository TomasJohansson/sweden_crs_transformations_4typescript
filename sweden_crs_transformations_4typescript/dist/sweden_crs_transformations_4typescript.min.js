"use strict";var library_sweden_crs_transformations_4typescript=function(){"use strict";var a={955:function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var f=d(c(679)),e=d(c(380)),g=function(){function a(a,b,c){this.crsProjection=a,this.yLatitude=b,this.xLongitude=c}return a.createCoordinateByEpsgNumber=function(b,c,d){var e=f.default.getCrsProjectionByEpsgNumber(b);return a.createCoordinate(e,c,d)},a.createCoordinate=function(b,c,d){return new a(b,c,d)},a.prototype.transform=function(a){return e.default.transform(this,a)},a.prototype.transformByEpsgNumber=function(a){var b=f.default.getCrsProjectionByEpsgNumber(a);return this.transform(b)},a.prototype.toString=function(){return a._toStringImplementation(this)},a.defaultToStringImplementation=function(a){var b=a.crsProjection.isWgs84(),c=b?"Longitude":"X";return"CrsCoordinate [ "+(b?"Latitude":"Y")+": "+a.yLatitude+" , "+c+": "+a.xLongitude+" , CRS: "+a.crsProjection.getAsString()+" ]"},a.setToStringImplementation=function(b){a._toStringImplementation=b},a.setToStringImplementationDefault=function(){a._toStringImplementation=a.defaultToStringImplementation},a._toStringImplementation=a.defaultToStringImplementation,a}();b.default=g},679:function _(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(a){this.epsgNumber=a}return a.prototype.getEpsgNumber=function(){return this.epsgNumber},a.prototype.isWgs84=function(){return this==a.wgs84},a.prototype.isSweref=function(){return a._epsgLowerValueForSweref<=this.epsgNumber&&this.epsgNumber<=a._epsgUpperValueForSweref},a.prototype.isRT90=function(){return a._epsgLowerValueForRT90<=this.epsgNumber&&this.epsgNumber<=a._epsgUpperValueForRT90},a.prototype.getAsString=function(){for(var b=0,c=Object.entries(a);b<c.length;b++){var d=c[b],f=d[0],g=d[1];if(null!=f&&null!=g&&g.getEpsgNumber&&this.getEpsgNumber()===g.getEpsgNumber())return f.toUpperCase()}throw Error("Could not render the CrsProjection as a string. The EPSG number for the failed projection: "+this.getEpsgNumber())},a.getCrsProjectionByEpsgNumber=function(b){for(var c,d=0,e=a.getAllCrsProjections();d<e.length;d++)if(c=e[d],c.getEpsgNumber()===b)return c;throw new Error("Could not find CrsProjection for EPSG "+b)},a.getAllCrsProjections=function(){return[a.wgs84,a.sweref_99_tm,a.sweref_99_12_00,a.sweref_99_13_30,a.sweref_99_15_00,a.sweref_99_16_30,a.sweref_99_18_00,a.sweref_99_14_15,a.sweref_99_15_45,a.sweref_99_17_15,a.sweref_99_18_45,a.sweref_99_20_15,a.sweref_99_21_45,a.sweref_99_23_15,a.rt90_7_5_gon_v,a.rt90_5_0_gon_v,a.rt90_2_5_gon_v,a.rt90_0_0_gon_v,a.rt90_2_5_gon_o,a.rt90_5_0_gon_o]},a.wgs84=new a(4326),a.sweref_99_tm=new a(3006),a.sweref_99_12_00=new a(3007),a.sweref_99_13_30=new a(3008),a.sweref_99_15_00=new a(3009),a.sweref_99_16_30=new a(3010),a.sweref_99_18_00=new a(3011),a.sweref_99_14_15=new a(3012),a.sweref_99_15_45=new a(3013),a.sweref_99_17_15=new a(3014),a.sweref_99_18_45=new a(3015),a.sweref_99_20_15=new a(3016),a.sweref_99_21_45=new a(3017),a.sweref_99_23_15=new a(3018),a.rt90_7_5_gon_v=new a(3019),a.rt90_5_0_gon_v=new a(3020),a.rt90_2_5_gon_v=new a(3021),a.rt90_0_0_gon_v=new a(3022),a.rt90_2_5_gon_o=new a(3023),a.rt90_5_0_gon_o=new a(3024),a._epsgLowerValueForSweref=3006,a._epsgUpperValueForSweref=3018,a._epsgLowerValueForRT90=3019,a._epsgUpperValueForRT90=3024,a}();b.default=c},31:function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.CrsCoordinate=b.CrsProjection=void 0;var e=d(c(955));b.CrsCoordinate=e.default;var f=d(c(679));b.CrsProjection=f.default},522:function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var e=d(c(679)),j=d(c(756)),f=function(){var b=Math.exp,k=Math.atan,n=Math.pow,q=Math.cos,x=Math.sin,z=Math.PI,A=Number.MIN_VALUE;function a(){this._axis=0,this._flattening=0,this._central_meridian=0,this._scale=0,this._false_northing=0,this._false_easting=0}return a.prototype.swedish_params=function(a){a==e.default.rt90_7_5_gon_v?(this._grs80_params(),this._central_meridian=11.30625,this._scale=1.000006,this._false_northing=-667.282,this._false_easting=1500025.141):a==e.default.rt90_5_0_gon_v?(this._grs80_params(),this._central_meridian=13+33.376/60,this._scale=1.0000058,this._false_northing=-667.13,this._false_easting=1500044.695):a==e.default.rt90_2_5_gon_v?(this._grs80_params(),this._central_meridian=15.806284529444445,this._scale=1.00000561024,this._false_northing=-667.711,this._false_easting=1500064.274):a==e.default.rt90_0_0_gon_v?(this._grs80_params(),this._central_meridian=18.0563,this._scale=1.0000054,this._false_northing=-668.844,this._false_easting=1500083.521):a==e.default.rt90_2_5_gon_o?(this._grs80_params(),this._central_meridian=20+18.379/60,this._scale=1.0000052,this._false_northing=-670.706,this._false_easting=1500102.765):a==e.default.rt90_5_0_gon_o?(this._grs80_params(),this._central_meridian=22+33.38/60,this._scale=1.0000049,this._false_northing=-672.557,this._false_easting=1500121.846):a==e.default.sweref_99_tm?(this._sweref99_params(),this._central_meridian=15,this._scale=.9996,this._false_northing=0,this._false_easting=5e5):a==e.default.sweref_99_12_00?(this._sweref99_params(),this._central_meridian=12):a==e.default.sweref_99_13_30?(this._sweref99_params(),this._central_meridian=13.5):a==e.default.sweref_99_15_00?(this._sweref99_params(),this._central_meridian=15):a==e.default.sweref_99_16_30?(this._sweref99_params(),this._central_meridian=16.5):a==e.default.sweref_99_18_00?(this._sweref99_params(),this._central_meridian=18):a==e.default.sweref_99_14_15?(this._sweref99_params(),this._central_meridian=14.25):a==e.default.sweref_99_15_45?(this._sweref99_params(),this._central_meridian=15.75):a==e.default.sweref_99_17_15?(this._sweref99_params(),this._central_meridian=17.25):a==e.default.sweref_99_18_45?(this._sweref99_params(),this._central_meridian=18.75):a==e.default.sweref_99_20_15?(this._sweref99_params(),this._central_meridian=20.25):a==e.default.sweref_99_21_45?(this._sweref99_params(),this._central_meridian=21.75):a==e.default.sweref_99_23_15?(this._sweref99_params(),this._central_meridian=23.25):this._central_meridian=A},a.prototype._grs80_params=function(){this._axis=6378137,this._flattening=1/298.257222101,this._central_meridian=A},a.prototype._sweref99_params=function(){this._axis=6378137,this._flattening=1/298.257222101,this._central_meridian=A,this._scale=1,this._false_northing=0,this._false_easting=15e4},a.prototype.geodetic_to_grid=function(a,f){var e=Math.round,h=[0,0],o=this._flattening*(2-this._flattening),p=this._flattening/(2-this._flattening),r=this._axis/(1+p)*(1+p*p/4+p*p*p*p/64),i=p/2-2*p*p/3+5*p*p*p/16+41*p*p*p*p/180,s=13*p*p/48-3*p*p*p/5+557*p*p*p*p/1440,l=61*p*p*p/240-103*p*p*p*p/140,c=49561*p*p*p*p/161280,d=z/180,m=a*d,g=this._central_meridian*d,t=m-x(m)*q(m)*(o+(5*o*o-o*o*o)/6*n(x(m),2)+(104*o*o*o-45*o*o*o*o)/120*n(x(m),4)+1237*o*o*o*o/1260*n(x(m),6)),u=f*d-g,v=k(Math.tan(t)/q(u)),w=this._math_atanh(q(t)*x(u)),y=this._scale*r*(v+i*x(2*v)*this._math_cosh(2*w)+s*x(4*v)*this._math_cosh(4*w)+l*x(6*v)*this._math_cosh(6*w)+c*x(8*v)*this._math_cosh(8*w))+this._false_northing,A=this._scale*r*(w+i*q(2*v)*this._math_sinh(2*w)+s*q(4*v)*this._math_sinh(4*w)+l*q(6*v)*this._math_sinh(6*w)+c*q(8*v)*this._math_sinh(8*w))+this._false_easting;return h[0]=e(1e3*y)/1e3,h[1]=e(1e3*A)/1e3,new j.default(h[0],h[1])},a.prototype.grid_to_geodetic=function(b,c){if(this._central_meridian==A)return new j.default(0,0);var d=[0,0],e=this._flattening*(2-this._flattening),l=this._flattening/(2-this._flattening),m=this._axis/(1+l)*(1+l*l/4+l*l*l*l/64),i=l/2-2*l*l/3+37*l*l*l/96-l*l*l*l/360,a=l*l/48+l*l*l/15-437*l*l*l*l/1440,o=17*l*l*l/480-37*l*l*l*l/840,h=4397*l*l*l*l/161280,f=this._central_meridian*(z/180),g=(b-this._false_northing)/(this._scale*m),p=(c-this._false_easting)/(this._scale*m),r=g-i*x(2*g)*this._math_cosh(2*p)-a*x(4*g)*this._math_cosh(4*p)-o*x(6*g)*this._math_cosh(6*p)-h*x(8*g)*this._math_cosh(8*p),s=p-i*q(2*g)*this._math_sinh(2*p)-a*q(4*g)*this._math_sinh(4*p)-o*q(6*g)*this._math_sinh(6*p)-h*q(8*g)*this._math_sinh(8*p),t=Math.asin(x(r)/this._math_cosh(s)),u=f+k(this._math_sinh(s)/q(r)),v=t+x(t)*q(t)*(e+e*e+e*e*e+e*e*e*e+-(7*e*e+17*e*e*e+30*e*e*e*e)/6*n(x(t),2)+(224*e*e*e+889*e*e*e*e)/120*n(x(t),4)+-4279*e*e*e*e/1260*n(x(t),6));return d[0]=180*v/z,d[1]=180*u/z,new j.default(d[0],d[1])},a.prototype._math_sinh=function(a){return .5*(b(a)-b(-a))},a.prototype._math_cosh=function(a){return .5*(b(a)+b(-a))},a.prototype._math_atanh=function(a){return .5*Math.log((1+a)/(1-a))},a}();b.default=f},756:function _(a,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b){this.yLatitude=a,this.xLongitude=b}},600:function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var f=d(c(955)),g=d(c(522)),e=function(){function a(){}return a.prototype.transform=function(a,b){var c=new g.default;c.swedish_params(a.crsProjection);var d=c.grid_to_geodetic(a.yLatitude,a.xLongitude);return f.default.createCoordinate(b,d.yLatitude,d.xLongitude)},a}();b.default=e},512:function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var f=d(c(679)),g=d(c(380)),e=function(){function a(){}return a.prototype.transform=function(a,b){var c=g.default.transform(a,f.default.wgs84);return g.default.transform(c,b)},a}();b.default=e},670:function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var f=d(c(955)),g=d(c(522)),e=function(){function a(){}return a.prototype.transform=function(a,b){var c=new g.default;c.swedish_params(b);var d=c.geodetic_to_grid(a.yLatitude,a.xLongitude);return f.default.createCoordinate(b,d.yLatitude,d.xLongitude)},a}();b.default=e},380:function(b,c,d){var e=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});var f=e(d(600)),g=e(d(670)),h=e(d(512)),i=function(){function a(){}return a.transform=function(b,c){if(b.crsProjection==c)return b;var d=null;if(b.crsProjection.isWgs84()&&(c.isSweref()||c.isRT90())?d=a._transformStrategy_from_WGS84_to_SWEREF99_or_RT90:c.isWgs84()&&(b.crsProjection.isSweref()||b.crsProjection.isRT90())?d=a._transformStrategy_from_SWEREF99_or_RT90_to_WGS84:(b.crsProjection.isSweref()||b.crsProjection.isRT90())&&(c.isSweref()||c.isRT90())&&(d=a._transFormStrategy_From_Sweref99OrRT90_to_WGS84_andThenToRealTarget),null!=d)return d.transform(b,c);throw new Error("Unhandled source/target projection transformation: "+b.crsProjection+" ==> "+c)},a._transformStrategy_from_WGS84_to_SWEREF99_or_RT90=new g.default,a._transformStrategy_from_SWEREF99_or_RT90_to_WGS84=new f.default,a._transFormStrategy_From_Sweref99OrRT90_to_WGS84_andThenToRealTarget=new h.default,a}();c.default=i}},b={};return function c(d){if(b[d])return b[d].exports;var e=b[d]={exports:{}};return a[d].call(e.exports,e,e.exports,c),e.exports}(31)}();
